(this.webpackJsonplyffcsaver=this.webpackJsonplyffcsaver||[]).push([[0],{14:function(e,t,c){e.exports={container:"TimetablePreviews_container__CNl1i",panel:"TimetablePreviews_panel__3sl0v",paginatedPreviews:"TimetablePreviews_paginatedPreviews__1HF_t",active:"TimetablePreviews_active__1tVJB"}},19:function(e,t,c){e.exports={screen:"TimetablesSection_screen__2bVqd",disableScreen:"TimetablesSection_disableScreen__pQPPb",title:"TimetablesSection_title__3JtXW",twoCols:"TimetablesSection_twoCols__ivPZe"}},2:function(e,t,c){e.exports={timetablePreview:"Timetable_timetablePreview__1cJBq",selectedTimetablePreview:"Timetable_selectedTimetablePreview__3AN6P",timetable:"Timetable_timetable__5mO8h",cell:"Timetable_cell__3Y_2j",headTime:"Timetable_headTime__xyEy2",headDay:"Timetable_headDay__2YgsX",lunch:"Timetable_lunch__1M-FZ",oddDay:"Timetable_oddDay__3W7vX",evenDay:"Timetable_evenDay__2vbl5",theory:"Timetable_theory__3LNJn",lab:"Timetable_lab__2btn9",blacklisted:"Timetable_blacklisted__EZl1z"}},23:function(e,t,c){e.exports={form:"Searchbar_form__37uzb",button:"Searchbar_button__2kndN",input:"Searchbar_input__1oXLw"}},25:function(e,t,c){e.exports={container:"BlacklistSlots_container__37j7v",label:"BlacklistSlots_label__1ujDF",slotCell:"BlacklistSlots_slotCell__1wJ7s"}},28:function(e,t,c){e.exports={header:"Header_header__3odfX"}},30:function(e,t,c){e.exports={timetablesScreen:"Timetables_timetablesScreen__2oQOF",slotTitle:"Timetables_slotTitle__1_0KY"}},4:function(e,t,c){e.exports={container:"FacultiesPreferenceList_container__2fu9J",label:"FacultiesPreferenceList_label__2vxEu",facultyTable:"FacultiesPreferenceList_facultyTable__34W2l",tableWrapper:"FacultiesPreferenceList_tableWrapper__3u5WH",headRow:"FacultiesPreferenceList_headRow__2M4Sj",cell:"FacultiesPreferenceList_cell__r7z0j",add:"FacultiesPreferenceList_add__27dGs",loading:"FacultiesPreferenceList_loading__2SWhF",error:"FacultiesPreferenceList_error__2Uj02",notSelectedRow:"FacultiesPreferenceList_notSelectedRow__DfFT-",selectedRow:"FacultiesPreferenceList_selectedRow__9V40t"}},43:function(e,t,c){},45:function(e,t,c){},5:function(e,t,c){e.exports={container:"SelectedCoursesList_container__34ZAx",label:"SelectedCoursesList_label__3QKGi",courseTable:"SelectedCoursesList_courseTable__wCyft",tableWrapper:"SelectedCoursesList_tableWrapper__3E-wf",headRow:"SelectedCoursesList_headRow__19BET",cell:"SelectedCoursesList_cell__3pc5j",remove:"SelectedCoursesList_remove__unLvA",loading:"SelectedCoursesList_loading__2rLcM",error:"SelectedCoursesList_error__2uIh4",selectedCoursesRow:"SelectedCoursesList_selectedCoursesRow__c1kDg",activeRow:"SelectedCoursesList_activeRow__1jVZx",hoverRow:"SelectedCoursesList_hoverRow__3zpuS"}},6:function(e,t,c){e.exports={container:"AvailableCoursesList_container__EE2C9",label:"AvailableCoursesList_label__1Laye",courseTable:"AvailableCoursesList_courseTable__1BkI9",tableWrapper:"AvailableCoursesList_tableWrapper__1gkVn",headRow:"AvailableCoursesList_headRow__3tN2i",cell:"AvailableCoursesList_cell__259yj",add:"AvailableCoursesList_add__14xry",loading:"AvailableCoursesList_loading__3hi6s",error:"AvailableCoursesList_error__3ASuk"}},7:function(e,t,c){e.exports={container:"Classes_container__qfV_z",label:"Classes_label__39YVW",table:"Classes_table__tf5FC",selectedSchedule:"Classes_selectedSchedule__rQAqW",tableWrapper:"Classes_tableWrapper__10fo0",headRow:"Classes_headRow__3qFXC",cell:"Classes_cell__3Rukb",remove:"Classes_remove__3Uz5X",loading:"Classes_loading__PM9gq",error:"Classes_error__3YuIr",selectedCoursesRow:"Classes_selectedCoursesRow__3E28U",activeRow:"Classes_activeRow___zpQU",hoverRow:"Classes_hoverRow__23zZE",panel:"Classes_panel__3C5ev",schedules:"Classes_schedules__1492z",active:"Classes_active__2TygF"}},70:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c.n(a),s=c(16),r=c.n(s),l=(c(43),c(10)),o=c.n(l),i=c(15),u=c(3),d=(c(45),c(28)),b=c.n(d),j=c(0),h=function(){return Object(j.jsx)("header",{className:b.a.header,children:Object(j.jsx)("h1",{className:b.a.logotype,children:"lyffcsaver"})})},f=c(11),O=c(8),m=c.n(O),v=c(13),_=c.n(v);function p(e,t){var c=Object(a.useState)(!0),n=Object(u.a)(c,2),s=n[0],r=n[1],l=Object(a.useState)(!1),o=Object(u.a)(l,2),i=o[0],d=o[1],b=Object(a.useState)([]),j=Object(u.a)(b,2),h=j[0],O=j[1],m=Object(a.useState)(!1),v=Object(u.a)(m,2),p=v[0],x=v[1];return Object(a.useEffect)((function(){O([])}),[e.query,e.courseID]),Object(a.useEffect)((function(){var c;if(void 0===e.courseID||""!==e.courseID)return r(!0),d(!1),_()({method:"GET",url:"/".concat(t),params:e,cancelToken:new _.a.CancelToken((function(e){return c=e}))}).then((function(e){var c=e.data,a=c[t],n=c.hasMore;O((function(e){return Object(f.a)(new Set([].concat(Object(f.a)(e),Object(f.a)(a))))})),x(n),r(!1)})).catch((function(e){_.a.isCancel(e)||d(!0)})),function(){return c()}}),[e.query,e.courseID,e.pageNumber]),{loading:s,error:i,data:h,hasMore:p}}var x=c(23),L=c.n(x),g=function(e){var t=e.handleSearch;return Object(j.jsxs)("form",{action:"/",onSubmit:function(e){if(t){e.preventDefault();var c=new FormData(e.target);t(c.get("search"))}},className:L.a.form,children:[Object(j.jsx)("input",{type:"text",name:"search",placeholder:"Search",className:L.a.input}),Object(j.jsx)("input",{type:"submit",className:L.a.button,placeholder:"Search"})]})},C=c(6),S=c.n(C),y=function(e){var t=e.entry,c=e.getID,a=e.styles,n=e.ignoreCols,s=e.onClick,r=e.onMouseEnter,l=e.onMouseLeave;return Object(j.jsx)(j.Fragment,{children:Object.keys(t).map((function(e){if(void 0===n||n&&!n.includes(e))return Object(j.jsx)("td",{className:a.cell+" "+a[e],onClick:s,onMouseEnter:r,onMouseLeave:l,children:t[e]},c(t)+"-c-"+e)}))})},N=c(21),w=c(24),T=[["Theory","Start","08:00","09:00","10:00","11:00","12:00","-","Lunch","14:00","15:00","16:00","17:00","18:00","18:46","19:01"],["","End","08:45","09:45","10:45","11:45","12:45","-","Lunch","14:45","15:45","16:45","17:45","18:45","19:00","19:45"],["Lab","Start","08:00","08:46","10:00","10:46","11:31","12:16","Lunch","14:00","14:46","16:00","16:46","17:31","18:16","-"],["","End","08:45","09:30","10:45","11:30","12:15","13:00","Lunch","14:45","15:30","16:45","17:30","18:15","19:00","-"],["MON","Theory","A1","F1","D1","TB1","TG1","-","Lunch","A2","F2","D2","TB2","TG2","-","V3"],["","Lab","L1","L2","L3","L4","L5","L6","Lunch","L31","L32","L33","L34","L35","L36","-"],["TUE","Theory","B1","G1","E1","TC1","TAA1","-","Lunch","B2","G2","E2","TC2","TAA2","-","V4"],["","Lab","L7","L8","L9","L10","L11","L12","Lunch","L37","L38","L39","L40","L41","L42","-"],["WED","Theory","C1","A1","F1","V1","V2","-","Lunch","C2","A2","F2","TD2","TBB2","-","V5"],["","Lab","L13","L14","L15","L16","L17","L18","Lunch","L43","L44","L45","L46","L47","L48","-"],["THU","Theory","D1","B1","G1","TE1","TCC1","-","Lunch","D2","B2","G2","TE2","TCC2","-","V6"],["","Lab","L19","L20","L21","L22","L23","L24","Lunch","L49","L50","L51","L52","L53","L54","-"],["FRI","Theory","E1","C1","TA1","TF1","TD1","-","Lunch","E2","C2","TA2","TF2","TDD2","-","V7"],["","Lab","L25","L26","L27","L28","L29","L30","Lunch","L55","L56","L57","L58","L59","L60","-"],["SAT","Theory","V8","X11","X12","Y11","Y12","-","Lunch","X21","Z21","Y21","W21","W22","-","V9"],["","Lab","L71","L72","L73","L74","L75","L76","Lunch","L77","L78","L79","L80","L81","L82","-"],["SUN","Theory","V10","Y11","Y12","X11","X12","-","Lunch","Y21","Z21","X21","W21","W22","-","V11"],["","Lab","L83","L84","L85","L86","L87","L88","Lunch","L89","L90","L91","L92","L93","L94","-"]],E={},R=function(e){return"".concat(e["COURSE CODE"],"-").concat(e["COURSE TYPE"])},D=function(e,t){var c=[];return e.forEach((function(e){void 0===t[R(e)]&&c.push(R(e))})),!(c.length>0)||(alert("Please select at least one faculty for each course.\n        Courses with no faculties set yet: ".concat(c.join(", "))),!1)},k=function(){var e=Object(i.a)(o.a.mark((function e(t){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={},Object.keys(t).forEach((function(e){t[e].forEach((function(t){void 0===c[e]&&(c[e]=[]),c[e].push(t["ERP ID"])}))})),e.prev=2,e.next=5,_.a.post("/classes",c);case 5:return a=e.sent,e.abrupt("return",a.data);case 9:e.prev=9,e.t0=e.catch(2),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}}(),P=function(){for(var e=T,t=4;t+1<e.length;t+=2)for(var c=2;c<e[t].length;c++){var a=/[A-Z]+\d+/,n=e[t][c],s=e[t+1][c];a.test(n)&&a.test(s)&&(void 0===E[n]&&(E[n]=[]),void 0===E[s]&&(E[s]=[]),E[n].push(s),E[s].push(n))}},I=function(e){var t=Object.values(e),c=[];return t.map((function(e){return e.SLOT.split("+")})).forEach((function(e){c.push.apply(c,Object(f.a)(e))})),c},F=function(e,t){var c=I(e),a=new Set(c);if(c.length>a.size)return!1;var n,s=I({courseID:e[t]}),r=Object(w.a)(s);try{for(r.s();!(n=r.n()).done;){var l=n.value,o=E[l];if(void 0!==o){var i,u=Object(w.a)(o);try{for(u.s();!(i=u.n()).done;){var d=i.value;if(c.includes(d))return!1}}catch(b){u.e(b)}finally{u.f()}}}}catch(b){r.e(b)}finally{r.f()}return!0},A=function e(t,c){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(0===t.length){var n=Object(f.a)(new Set(I(a)));n.sort();var s=n.join("+");return Object(N.a)({},s,[a])}var r=t[0];if(void 0!==a[r])return[];var l,o={},i=Object(w.a)(c[r]);try{for(i.s();!(l=i.n()).done;){var u=l.value;if(a[r]=u,F(a,r)){var d=e(t.slice(1),c,Object.assign({},a));Object.values(d).forEach((function(e){return e.forEach((function(e){var t=Object(f.a)(new Set(I(e)));t.sort();var c=t.join("+");void 0===o[c]&&(o[c]=[]),o[c].push(e)}))}))}}}catch(b){i.e(b)}finally{i.f()}return o},W=function(e){var t,c=!0;if(Object.keys(e).find((function(c){return t=c,0===e[c].length})))return alert("No valid classes found for ".concat(t,"\n")+"Please either reduce blacklisted slots or add more faculties from this course"),!1;var a=Object.keys(e).reduce((function(t,a){return c?(c=!1,e[Object.keys(e)[0]].length*e[a].length):t*e[a].length}));if(a>2e7){var n=a/5e7;return confirm("Number of Possibilities: ".concat(a.toLocaleString(),"\n")+"Time required: (approx) ".concat(n.toLocaleString()," minutes (Actual time required might be much less)\n")+'If you get a message saying "Page Unresponsive" after choosing to proceed, please choose to wait.\nTo reduce possibilities, reduce the number of faculties selected or blacklist more slots\nProceed?')}return!0},B=function(){var e=Object(i.a)(o.a.mark((function e(t,c,a){var n,s,r,l,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object.keys(E).forEach((function(e){return delete E[e]})),P(),D(t,c)){e.next=4;break}return e.abrupt("return",[]);case 4:return n=Object.keys(c),e.next=7,k(c);case 7:if(s=e.sent,Object.keys(s).forEach((function(e){s[e]=s[e].filter((function(e){return void 0===e.SLOT.split("+").find((function(e){if(a.includes(e))return a.includes(e)}))}))})),W(s)){e.next=11;break}return e.abrupt("return",[]);case 11:return n.sort((function(e,t){return s[e].length-s[t].length})),r=!0,console.log("All Possible Selections:",Object.keys(s).reduce((function(e,t){return r?(r=!1,s[Object.keys(s)[0]].length*s[t].length):e*s[t].length}))),console.time("selectClasses"),l=A(n,s),console.timeEnd("selectClasses"),i=!0,Object.keys(l).length>0?console.log("all possible class selections",l,"Groups:",Object.keys(l).length,"Possible Schedules:",Object.keys(l).reduce((function(e,t){return i?(i=!1,l[Object.keys(l)[0]].length+l[t].length):e+l[t].length}))):alert("No valid schedules found."),e.abrupt("return",l);case 20:case"end":return e.stop()}}),e)})));return function(t,c,a){return e.apply(this,arguments)}}(),M=function(e){var t=e.ignoreCols,c=e.addCourse,n=e.selectedCourses,s=Object(a.useState)(""),r=Object(u.a)(s,2),l=r[0],o=r[1],i=Object(a.useState)(1),d=Object(u.a)(i,2),b=d[0],h=d[1],f=p({query:l,pageNumber:b},"courses"),O=f.data,m=f.hasMore,v=f.loading,_=f.error,x=Object(a.useRef)(),L=Object(a.useCallback)((function(e){v||(x.current&&x.current.disconnect(),x.current=new IntersectionObserver((function(e){e[0].isIntersecting&&m&&h((function(e){return e+1}))})),e&&x.current.observe(e))}),[v,m]);return Object(j.jsxs)("div",{className:S.a.container,children:[Object(j.jsx)("label",{className:S.a.label,children:Object(j.jsx)("h2",{children:"Available Courses"})}),Object(j.jsx)(g,{handleSearch:function(e){o(e),h(1)}}),Object(j.jsx)("div",{className:S.a.loading,children:v&&"Loading..."}),Object(j.jsx)("div",{className:S.a.error,children:_&&"Error..."}),Object(j.jsx)("div",{className:S.a.tableWrapper,children:Object(j.jsx)("table",{className:S.a.courseTable,children:O.length>0?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{className:S.a.headRow,children:[Object(j.jsx)("th",{className:S.a.cell},"available-head-select"),Object.keys(O[0]).map((function(e){if(t&&!t.includes(e))return Object(j.jsx)("th",{className:S.a.cell,children:e},"available-head-".concat(e))}))]})}),Object(j.jsx)("tbody",{children:O.map((function(e,a){if(void 0===n||n&&!function(e){return void 0!==n.find((function(t){return R(t)===R(e)}))}(e))return O.length===a+1?Object(j.jsxs)("tr",{ref:L,className:S.a.row,children:[Object(j.jsx)("td",{className:S.a.cell+" "+S.a.add,"data-courseid":R(e),onClick:function(e){c(e.target.dataset.courseid)},children:"+"},R(e)+"-I"),Object(j.jsx)(y,{entry:e,getID:R,styles:S.a,ignoreCols:t})]},R(e)):Object(j.jsxs)("tr",{className:S.a.row,children:[Object(j.jsx)("td",{className:S.a.cell+" "+S.a.add,"data-courseid":R(e),onClick:function(e){c(e.target.dataset.courseid)},children:"+"},R(e)+"-I"),Object(j.jsx)(y,{entry:e,getID:R,styles:S.a,ignoreCols:t})]},R(e))}))})]}):Object(j.jsx)("tbody",{children:Object(j.jsx)("tr",{children:Object(j.jsx)("td",{children:"No Results"})})})})})]})},V=c(12),U=c(20),q=c(4),Y=c.n(q),X=function(e){var t=e.currentlySelectedCourseID,c=e.selectedFaculties,n=e.setSelectedFaculties,s=e.ignoreCols,r=Object(a.useState)(""),l=Object(u.a)(r,2),o=l[0],i=l[1],d=Object(a.useState)(1),b=Object(u.a)(d,2),h=b[0],f=b[1],O=p({courseID:t,query:o,pageNumber:h},"faculties"),m=O.data,v=O.hasMore,_=O.loading,x=O.error;Object(a.useEffect)((function(){""!==t&&(i(""),f(1))}),[t]);var L=Object(a.useRef)(),C=Object(a.useCallback)((function(e){_||(L.current&&L.current.disconnect(),L.current=new IntersectionObserver((function(e){e[0].isIntersecting&&v&&f((function(e){return e+1}))})),e&&L.current.observe(e))}),[_,v]),S=function(e){var a;return void 0!==(null===(a=c[t])||void 0===a?void 0:a.find((function(t){return t["ERP ID"]===e["ERP ID"]})))},N=Object(a.useState)(0),w=Object(u.a)(N,2),T=(w[0],w[1]);var E=function(e){var a=e.faculty,s=e.customKey;return Object(j.jsx)("td",{className:Y.a.cell,children:Object(j.jsx)("input",{type:"checkbox",name:"selected",id:"".concat(a["ERP ID"],"-selected"),onClick:function(e){var s=c;console.log(c),void 0===s[t]&&(s[t]=[]),e.target.checked?(console.log("selecting",e.target.parentNode.parentNode.id),S(a)||s[t].push(a)):(console.log("deselecting",e.target.parentNode.parentNode.id),s[t]=s[t].filter((function(t){return t["ERP ID"]!==e.target.parentNode.parentNode.id}))),n(s),T((function(e){return e+1}))},defaultChecked:S(a)},s)})},R=function(e){var a;return Object(j.jsxs)(j.Fragment,{children:[null===(a=c[t])||void 0===a?void 0:a.map((function(e,t){return m.length===t+1?Object(j.jsx)(U.b,{draggableId:"".concat(e["ERP ID"],"-s"),index:t,children:function(t){return Object(j.jsxs)("tr",Object(V.a)(Object(V.a)(Object(V.a)({ref:function(e){C(e),t.innerRef(e)},className:"".concat(Y.a.row," ").concat(Y.a.selectedRow),id:e["ERP ID"]},t.draggableProps),t.dragHandleProps),{},{children:[Object(j.jsx)(E,{faculty:e,customKey:"".concat(e["ERP ID"],"-s-i")}),Object(j.jsx)(y,{entry:e,getID:function(e){return e["ERP ID"]+"s"},styles:Y.a})]}))}},"".concat(e["ERP ID"],"-s")):Object(j.jsx)(U.b,{draggableId:"".concat(e["ERP ID"],"-s"),index:t,children:function(t){return Object(j.jsxs)("tr",Object(V.a)(Object(V.a)(Object(V.a)({className:"".concat(Y.a.row," ").concat(Y.a.selectedRow),id:e["ERP ID"],ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:[Object(j.jsx)(E,{faculty:e,customKey:"".concat(e["ERP ID"],"-s-i")}),Object(j.jsx)(y,{entry:e,getID:function(e){return e["ERP ID"]+"s"},styles:Y.a})]}))}},"".concat(e["ERP ID"],"-s"))})),e.placeholder,m.map((function(e,t){return S(e)?Object(j.jsx)(j.Fragment,{}):m.length===t+1?Object(j.jsxs)("tr",{ref:C,className:"".concat(Y.a.row," ").concat(Y.a.notSelectedRow),id:e["ERP ID"],children:[Object(j.jsx)(E,{faculty:e,customKey:"".concat(e["ERP ID"],"-u-i")}),Object(j.jsx)(y,{entry:e,getID:function(e){return e["ERP ID"]+"u"},styles:Y.a})]},"".concat(e["ERP ID"],"-u")):Object(j.jsxs)("tr",{id:e["ERP ID"],className:"".concat(Y.a.row," ").concat(Y.a.notSelectedRow),children:[Object(j.jsx)(E,{faculty:e,customKey:"".concat(e["ERP ID"],"-u-i")}),Object(j.jsx)(y,{entry:e,getID:function(e){return e["ERP ID"]+"u"},styles:Y.a})]},"".concat(e["ERP ID"],"-u"))}))]})};return""!==t?Object(j.jsxs)("div",{className:Y.a.container,children:[Object(j.jsx)("label",{className:Y.a.label,children:Object(j.jsx)("h2",{children:"Faculties"})}),Object(j.jsx)(g,{handleSearch:function(e){i(e),f(1)}}),Object(j.jsx)("div",{className:Y.a.loading,children:_&&"Loading..."}),Object(j.jsx)("div",{className:Y.a.error,children:x&&"Error..."}),Object(j.jsx)("div",{className:Y.a.tableWrapper,children:Object(j.jsx)("table",{className:Y.a.facultyTable,children:0===m.length?Object(j.jsx)("tbody",{children:Object(j.jsx)("tr",{children:Object(j.jsx)("td",{children:!_&&!x&&"No Results"})})}):Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{className:Y.a.headRow,children:[Object(j.jsx)("th",{className:Y.a.cell},"faculty-head-select"),Object.keys(m[0]).map((function(e){if(void 0===s||s&&!s.includes(e))return Object(j.jsx)("th",{className:Y.a.cell,children:e},"faculties-head-".concat(e))}))]})}),Object(j.jsx)(U.a,{onDragEnd:function(e){if(e.destination){var a=Object.assign({},c),s=a[t].splice(e.source.index,1),r=Object(u.a)(s,1)[0];a[t].splice(e.destination.index,0,r),n(a)}},children:Object(j.jsx)(U.c,{droppableId:"faculties",children:function(e){return Object(j.jsx)("tbody",Object(V.a)(Object(V.a)({},e.droppableProps),{},{ref:e.innerRef,children:R(e)}))}})})]})})})]}):Object(j.jsx)(j.Fragment,{})},G=c(5),H=c.n(G),Z=function(e){var t=e.ignoreCols,c=e.removeCourse,a=e.onSelect,n=e.onDeselect,s=e.selectedCourses;return s&&s.length>0?Object(j.jsxs)("div",{className:H.a.container,children:[Object(j.jsx)("label",{className:H.a.label,children:Object(j.jsx)("h2",{children:"Selected Courses"})}),Object(j.jsx)("div",{className:H.a.tableWrapper,children:Object(j.jsxs)("table",{className:H.a.courseTable,children:[Object(j.jsx)("thead",{children:Object(j.jsxs)("tr",{className:H.a.headRow,children:[Object(j.jsx)("th",{className:H.a.cell},"selected-head-select"),Object.keys(s[0]).map((function(e){if(t&&!t.includes(e))return Object(j.jsx)("th",{className:H.a.cell,children:e},"selected-head-".concat(e))}))]})}),Object(j.jsx)("tbody",{children:s.map((function(e){return Object(j.jsxs)("tr",{className:"".concat(H.a.row," ").concat(H.a.selectedCoursesRow),"data-courseid":R(e),children:[Object(j.jsx)("td",{className:H.a.cell+" "+H.a.remove,"data-courseid":R(e),onClick:function(e){c(e.target.dataset.courseid),n()},children:"-"},R(e)+"-I"),Object(j.jsx)(y,{entry:e,getID:R,styles:H.a,ignoreCols:t,onClick:function(e){var t;null===(t=document.querySelector(".".concat(H.a.activeRow)))||void 0===t||t.classList.remove(H.a.activeRow),e.target.parentNode.classList.toggle(H.a.activeRow),e.target.parentNode.classList.remove(H.a.hoverRow),a(e.target.parentNode.dataset.courseid)},onMouseEnter:function(e){e.target.parentNode.classList.contains(H.a.activeRow)||e.target.parentNode.classList.add(H.a.hoverRow)},onMouseLeave:function(e){e.target.parentNode.classList.remove(H.a.hoverRow)}})]},R(e))}))})]})})]}):Object(j.jsx)(j.Fragment,{})},z=c(25),J=c.n(z),K=c(2),Q=c.n(K),$=function(e){var t=e.blacklistedSlots,c=e.toggleBlacklist,a=0,n="blacklist-slots",s=function(e,c,n){var s="".concat(Q.a.cell," ");return/[A-Z]+\d+/.test(e)&&(s+=" ".concat(J.a.slotCell," ")),n<2?s+=" ".concat(Q.a.headDay," "):"Lunch"===e?s+=" ".concat(Q.a.lunch," "):t.includes(e)?s+=" ".concat(Q.a.blacklisted," "):s+=" ".concat(a%2===0?Q.a.evenDay:Q.a.oddDay," ")};return Object(j.jsxs)("div",{className:J.a.container,children:[Object(j.jsx)("label",{className:J.a.label,children:Object(j.jsx)("h2",{children:"Blacklist Slots"})}),Object(j.jsxs)("table",{className:Q.a.timetable,onClick:function(e){},children:[Object(j.jsx)("thead",{children:T.slice(0,4).map((function(e,t){return Object(j.jsx)("tr",{children:e.map((function(e,c){return""===e?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)("th",{className:"".concat(Q.a.cell," ").concat(Q.a.headTime),rowSpan:0===c?2:1,children:e},"".concat(n,"-").concat(t,"-").concat(c))}))},"".concat(n,"-row-").concat(t))}))}),Object(j.jsx)("tbody",{children:T.slice(4).map((function(e,t){return t%2===0&&a++,Object(j.jsx)("tr",{children:e.map((function(e,a){return""===e?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)("td",{className:"".concat(s(e,0,a)),rowSpan:0===a?2:1,onClick:function(){return c(e)},children:e},"".concat(n,"-").concat(t,"-").concat(a))}))},"".concat(n,"-row-").concat(t))}))})]})]})},ee=function(e){var t=e.generateTimetables,c=["LECTURE HOURS","TUTORIAL HOURS","PROJECT HOURS","PRACTICAL HOURS"],n=Object(a.useState)([]),s=Object(u.a)(n,2),r=s[0],l=s[1],d=Object(a.useState)(""),b=Object(u.a)(d,2),h=b[0],O=b[1],v=Object(a.useState)({}),p=Object(u.a)(v,2),x=p[0],L=p[1],g=Object(a.useState)([]),C=Object(u.a)(g,2),S=C[0],y=C[1];Object(a.useEffect)((function(){console.log("added courses",r)}),[r]),Object(a.useEffect)((function(){console.log("currently selected course",h)}),[h]),Object(a.useEffect)((function(){console.log("new selected faculties",x)}),[x]),Object(a.useEffect)((function(){console.log("new blacklisted slots",S)}),[S]);var N=function(){var e=Object(i.a)(o.a.mark((function e(t){var c,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,_.a.get("/courses?courseID=".concat(t));case 3:void 0!==(c=e.sent).data&&(a=c.data,l((function(e){return[].concat(Object(f.a)(e.filter((function(e){return R(e)!==R(a)}))),[a])}))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:m.a.screen,children:[Object(j.jsxs)("div",{className:m.a.row,children:[Object(j.jsxs)("div",{className:m.a.option,children:[Object(j.jsx)("label",{htmlFor:"semester",children:Object(j.jsx)("h2",{children:"Semester"})}),Object(j.jsxs)("select",{className:m.a.select,name:"semester",id:"semester",children:[Object(j.jsx)("option",{value:"fal-sem-19",children:"Fall Semester 2019-20"}),Object(j.jsx)("option",{value:"win-sem-19",children:"Winter Semester 2019-20"}),Object(j.jsx)("option",{value:"fal-sem-20",children:"Fall Semester 2020-21"}),Object(j.jsx)("option",{value:"win-sem-20",children:"Winter Semester 2020-21"})]})]}),Object(j.jsxs)("div",{className:m.a.option,children:[Object(j.jsx)("label",{htmlFor:"year",children:Object(j.jsx)("h2",{children:"Year"})}),Object(j.jsx)("input",{type:"number",id:"year",min:(new Date).getFullYear()-5,max:(new Date).getFullYear()+1,step:"1",defaultValue:(new Date).getFullYear(),className:m.a.input})]}),Object(j.jsxs)("div",{className:m.a.option,children:[Object(j.jsx)("label",{htmlFor:"branch",children:Object(j.jsx)("h2",{children:"Branch"})}),Object(j.jsxs)("select",{className:m.a.select,name:"branch",id:"branch",children:[Object(j.jsx)("option",{value:"cse-info-sec",children:"CSE with Information Security"}),Object(j.jsx)("option",{value:"cse-info-sec",children:"CSE with Information Security"}),Object(j.jsx)("option",{value:"cse-info-sec",children:"CSE with Information Security"})]})]}),Object(j.jsxs)("div",{className:m.a.option,children:[Object(j.jsx)("label",{htmlFor:"school",children:Object(j.jsx)("h2",{children:"School"})}),Object(j.jsxs)("select",{className:m.a.select,name:"school",id:"school",children:[Object(j.jsx)("option",{value:"scope",children:"Scope"}),Object(j.jsx)("option",{value:"scope",children:"Scope"}),Object(j.jsx)("option",{value:"scope",children:"Scope"})]})]})]}),Object(j.jsxs)("div",{className:m.a.row,children:[Object(j.jsx)($,{blacklistedSlots:S,toggleBlacklist:function(e){/[A-Z]+\d+/.test(e)&&(S.includes(e)?(console.log("deleting",S,e),y((function(t){return t.filter((function(t){return t!==e}))}))):(console.log("adding",S,e),y((function(t){return[].concat(Object(f.a)(t),[e])}))))}}),Object(j.jsx)(M,{ignoreCols:c,addCourse:N,selectedCourses:r,getCourseID:R}),Object(j.jsx)(Z,{ignoreCols:c,removeCourse:function(e){l((function(t){return t.filter((function(t){return e!==R(t)}))}));var t=x;delete t[e],L(t)},onSelect:function(e){O(e)},onDeselect:function(){O("")},getCourseID:R,selectedCourses:r}),Object(j.jsx)(X,{currentlySelectedCourseID:h,selectedFaculties:x,setSelectedFaculties:L,getCourseID:R,ignoreCols:c})]}),Object(j.jsx)("div",{className:m.a.row,children:Object(j.jsx)("button",{className:m.a.submitBtn,onClick:function(){t(r,x,S)},children:"Generate Timetables"})})]})},te=c(19),ce=c.n(te),ae=function(e){var t=e.slots,c=e.id,a=e.select,n=0,s=function(e,c,a){var s="".concat(Q.a.cell," ");return a<2?s+="".concat(Q.a.headDay):"Lunch"===e?s+="".concat(Q.a.lunch):t.includes(e)?s+="".concat(c%2===0?Q.a.theory:Q.a.lab):s+="".concat(n%2===0?Q.a.evenDay:Q.a.oddDay)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("table",{className:Q.a.timetablePreview,onClick:function(e){var c;a(t),null===(c=document.querySelectorAll(".".concat(Q.a.selectedTimetablePreview)))||void 0===c||c.forEach((function(e){return e.classList.remove(Q.a.selectedTimetablePreview)}));for(var n=e.target;null!==n&&void 0!==n;){if(n.classList.contains(Q.a.timetablePreview)){n.classList.add(Q.a.selectedTimetablePreview);break}n=n.parentNode}},children:[Object(j.jsx)("thead",{children:T.slice(0,4).map((function(e,t){return Object(j.jsx)("tr",{children:e.map((function(e,a){return""===e?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)("th",{className:"".concat(Q.a.cell," ").concat(Q.a.headTime),rowSpan:0===a?2:1},"".concat(c,"-").concat(t,"-").concat(a))}))},"".concat(c,"-row-").concat(t))}))}),Object(j.jsx)("tbody",{children:T.slice(4).map((function(e,t){return t%2===0&&n++,Object(j.jsx)("tr",{children:e.map((function(e,a){return""===e?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)("td",{className:"".concat(s(e,t,a)),rowSpan:0===a?2:1},"".concat(c,"-").concat(t,"-").concat(a))}))},"".concat(c,"-row-").concat(t))}))})]})})},ne=c(14),se=c.n(ne),re=c(22),le=c.n(re),oe=function(e){var t=e.schedulesSlots,c=e.select,n=Math.ceil(t.length/15),s=Object(a.useState)(0),r=Object(u.a)(s,2),l=r[0],o=r[1],i=t.slice(15*l,15*(l+1)).map((function(e){var t=e.split("+");return Object(j.jsx)(ae,{id:"".concat(e,"-timetable"),slots:t,select:c},"".concat(e,"-timetable"))}));return Object(j.jsxs)("div",{className:se.a.panel,children:[Object(j.jsx)("div",{className:se.a.container,children:i}),Object(j.jsx)(le.a,{previousLabel:"<",nextLabel:">",pageCount:n,onPageChange:function(e){var t=e.selected;o(t),c([])},containerClassName:se.a.paginatedPreviews,previousLinkClassName:se.a.previous,nextLinkClassName:se.a.next,disabledClassName:se.a.disabled,activeClassName:se.a.active})]})},ie=function(e){var t=e.slots,c=e.schedule,a=0,n="final-display",s=function(e,t){var c=Object.keys(e),a=c.find((function(c){return e[c].SLOT.split("+").includes(t)}));return void 0===e||0===c.length||void 0===a?t:"".concat(t,"-").concat(a,"-").concat(e[a]["ROOM NUMBER"])},r=function(e,c,n){var s="".concat(Q.a.cell," ");return n<2?s+="".concat(Q.a.headDay):"Lunch"===e?s+="".concat(Q.a.lunch):t.includes(e)?s+="".concat(c%2===0?Q.a.theory:Q.a.lab):s+="".concat(a%2===0?Q.a.evenDay:Q.a.oddDay)};return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("table",{className:Q.a.timetable,children:[Object(j.jsx)("thead",{children:T.slice(0,4).map((function(e,t){return Object(j.jsx)("tr",{children:e.map((function(e,c){return""===e?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)("th",{className:"".concat(Q.a.cell," ").concat(Q.a.headTime),rowSpan:0===c?2:1,children:e},"".concat(n,"-").concat(t,"-").concat(c))}))},"".concat(n,"-row-").concat(t))}))}),Object(j.jsx)("tbody",{children:T.slice(4).map((function(e,t){return t%2===0&&a++,Object(j.jsx)("tr",{children:e.map((function(e,a){return""===e?Object(j.jsx)(j.Fragment,{}):Object(j.jsx)("td",{className:"".concat(r(e,t,a)),rowSpan:0===a?2:1,children:s(c,e)},"".concat(n,"-").concat(t,"-").concat(a))}))},"".concat(n,"-row-").concat(t))}))})]})})},ue=c(7),de=c.n(ue),be=function(e){var t,c=e.schedules,n=e.select,s=e.slots;console.log({schedules:c,slots:s});var r=["REGISTERED SEATS","ASSO CLASS ID","CLASS OPTION","CLASS TYPE","WAITING SEATS","COURSE STATUS","COURSE MODE","BATCH"],l=Math.ceil((null===c||void 0===c?void 0:c.length)/2),o=Object(a.useState)(0),i=Object(u.a)(o,2),d=i[0],b=i[1],h=null===c||void 0===c||null===(t=c.slice(2*d,2*(d+1)))||void 0===t?void 0:t.map((function(e,t){var c=Object.keys(e);return Object(j.jsx)("div",{className:de.a.tableWrapper,onClick:function(){return n(e)},children:Object(j.jsxs)("table",{className:de.a.table,children:[Object(j.jsx)("thead",{children:Object.keys(e[c[0]]).map((function(e){if(r&&!r.includes(e))return Object(j.jsx)("th",{className:de.a.cell,children:e},"".concat(s.join(""),"-").concat(t,"-head-").concat(e))}))}),Object(j.jsx)("tbody",{children:c.map((function(c){return Object(j.jsx)("tr",{children:Object(j.jsx)(y,{entry:e[c],getID:function(){return"".concat(s.join(""),"-").concat(t,"}-").concat(c)},styles:de.a,ignoreCols:r,onClick:function(e){var t;null===(t=document.querySelectorAll(".".concat(de.a.selectedSchedule)))||void 0===t||t.forEach((function(e){return e.classList.remove(de.a.selectedSchedule)}));for(var c=e.target;null!==c&&void 0!==c;){if(c.classList.contains(de.a.table)){c.classList.add(de.a.selectedSchedule);break}c=c.parentNode}}})},"".concat(s.join(""),"-").concat(t,"}-").concat(c))}))})]})},"".concat(s.join(""),"-").concat(t,"}"))}));return console.log("classes",c,s),void 0===c?Object(j.jsx)(j.Fragment,{}):Object(j.jsxs)("div",{className:de.a.panel,children:[Object(j.jsx)(le.a,{previousLabel:"<",nextLabel:">",pageCount:l,onPageChange:function(e){var t,c=e.selected;b(c),n({}),null===(t=document.querySelectorAll(".".concat(de.a.selectedSchedule)))||void 0===t||t.forEach((function(e){return e.classList.remove(de.a.selectedSchedule)}))},containerClassName:de.a.schedules,previousLinkClassName:de.a.previous,nextLinkClassName:de.a.next,disabledClassName:de.a.disabled,activeClassName:de.a.active}),Object(j.jsx)("div",{className:de.a.container,children:h})]})},je=c(30),he=c.n(je),fe=function(e){var t=e.schedules,c=e.slots,n=Object(a.useState)({}),s=Object(u.a)(n,2),r=s[0],l=s[1];return Object(a.useEffect)((function(){l({})}),[c]),Object(j.jsxs)("div",{id:"#timetables-screen",className:he.a.timetablesScreen,children:[Object(j.jsx)("h3",{className:he.a.slotTitle,children:c.join("+")}),Object(j.jsx)(be,{schedules:t[c.join("+")],slots:c,select:l}),Object(j.jsx)(ie,{schedule:r,slots:c})]})},Oe=function(e){var t=e.schedules,c=Object.keys(t),n=Object(a.useState)([]),s=Object(u.a)(n,2),r=s[0],l=s[1];return Object(a.useEffect)((function(){l([])}),[t]),Object(j.jsxs)("div",{className:"".concat(ce.a.screen," ").concat(Object.keys(t).length>0?"":ce.a.disableScreen),id:"screen2",children:[Object(j.jsx)("h1",{className:ce.a.title,children:"Generated Timetables"}),Object(j.jsxs)("div",{className:ce.a.twoCols,children:[Object(j.jsx)(oe,{schedulesSlots:c,select:l}),Object(j.jsx)(fe,{schedules:t,slots:r})]})]})};var me=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),c=t[0],n=t[1],s=function(){var e=Object(i.a)(o.a.mark((function e(t,c,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n([]),e.t0=n,e.next=4,B(t,c,a);case 4:e.t1=e.sent,(0,e.t0)(e.t1);case 6:case"end":return e.stop()}}),e)})));return function(t,c,a){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){if(console.log("all schedules",c),Object.keys(c).length>0){var e=document.getElementById("screen2");console.log(e),null===e||void 0===e||e.scrollIntoView({behavior:"smooth"})}}),[c]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(h,{}),Object(j.jsx)(ee,{getCourseID:R,generateTimetables:s}),Object(j.jsx)(Oe,{schedules:c})]})},ve=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,71)).then((function(t){var c=t.getCLS,a=t.getFID,n=t.getFCP,s=t.getLCP,r=t.getTTFB;c(e),a(e),n(e),s(e),r(e)}))};r.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(me,{})}),document.getElementById("root")),ve()},8:function(e,t,c){e.exports={screen:"Options_screen__3iTD-",row:"Options_row__Hkb10",option:"Options_option__1p9IT",input:"Options_input__2XaXq",select:"Options_select__1F6WA",submitBtn:"Options_submitBtn__3bVgT"}}},[[70,1,2]]]);
//# sourceMappingURL=main.cba3fcca.chunk.js.map